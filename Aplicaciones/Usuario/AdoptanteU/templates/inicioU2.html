{% extends "plantillaU.html" %}
{% load static %}
{% block contenido %}

<div class="container mt-4 bg-light p-4 rounded shadow-sm">
  <h2 class="text-center mb-4">Ficha Tecnica del Adoptante</h2>

  <form action="{% url 'adoptanteu:inicioF' %}" method="post" id="frm_nuevoAdoptante" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre:</label>
      <input class="form-control" type="text" name="nombre" id="nombre" placeholder="Ingrese su nombre completo">
    </div>

    <div class="mb-3">
      <label for="cedula" class="form-label">Cédula:</label>
      <input class="form-control" type="text" name="cedula" id="cedula" placeholder="Ingrese su número de cédula">
    </div>

    <div class="mb-3">
      <label for="direccion" class="form-label">Dirección:</label>
      <input class="form-control" type="text" name="direccion" id="direccion" placeholder="Ingrese su dirección de domicilio">
    </div>

    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono:</label>
      <input class="form-control" type="text" name="telefono" id="telefono" placeholder="Ingrese su número de celular">
    </div>

    <div class="mb-3">
      <label for="logo" class="form-label">Foto del Adoptante:</label>
      <input class="form-control" type="file" name="logo" id="logo" accept="image/*">
    </div>

    <div class="mb-3">
      <label for="pdf" class="form-label">Archivo PDF de Antecedentes:</label>
      <input class="form-control" type="file" name="pdf" id="pdf" accept="application/pdf">
    </div>

    <div class="text-center">
      <button class="btn btn-success" type="submit">Registrar Datos</button>
      <a class="btn btn-outline-danger" href="{% url 'inicioUsuario' %}">Cancelar</a>
    </div>
  </form>
</div>

<script>
  $("#frm_nuevoAdoptante").validate({
    rules: {
      "nombre": 
      { 
        required: true, 
        minlength: 3, 
        maxlength: 30 
    },
      "cedula": 
      { 
        required: true, 
        digits: true, 
        minlength: 10, 
        maxlength: 10 
    },
      "direccion": 
      { 
        required: true 
      },

      "telefono": 
      { 
        required: true, 
        digits: true, 
        minlength: 10, 
        maxlength: 10, 
        pattern: /^0\d{9}$/ 
    }
    },
    messages: {
      "nombre": 
      { 
        required: "Campo obligatorio", 
        minlength: "Nombre demasiado corto", 
        maxlength: "Nombre demasiado largo" 
    },
      "cedula": 
      { 
        required: "Ingrese su cédula", 
        digits: "Solo números",     
        minlength: "Debe tener 10 dígitos", 
        maxlength: "Debe tener 10 dígitos" 
    },
      "direccion": 
      { 
        required: "Ingrese su dirección" 
    },
      "telefono": 
      { 
        required: "Ingrese su teléfono", 
        digits: "Solo números", 
        minlength: "Debe tener 10 dígitos", 
        maxlength: "Debe tener 10 dígitos", 
        pattern: "Debe comenzar con 0" 
    }
    }
  });
</script>


<script>
  $("#logo").fileinput({
    theme: "bootstrap5",
    language: "es",
    allowedFileExtensions: ["jpg", "jpeg", "png"],
    showUpload: false,
    dropZoneEnabled: true,
    maxFileSize: 2000,
    showPreview: true,
    browseLabel: "Seleccionar imagen",
    removeLabel: "Eliminar",
    initialCaption: "Arrastra o selecciona una imagen",
    showRemove: true,
    showZoom: true,
    showDrag: true
  });
</script>

{% if messages %}
  {% for message in messages %}
  <script>
    Swal.fire({
      title: "Confirmación",
      text: "{{ message }}",
      icon: "success",
      confirmButtonText: "Aceptar"
    });
  </script>
  {% endfor %}
{% endif %}

{% endblock %}
